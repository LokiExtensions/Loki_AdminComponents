<?php
declare(strict_types=1);

/** @version 0.3.1 */

use Magento\Framework\Escaper;
use Magento\Framework\View\Element\Template;
use Loki\AdminComponents\Component\Grid\GridViewModel;

/** @var Escaper $escaper */
/** @var Template $block */
/** @var GridViewModel $viewModel */

$viewModel = $block->getViewModel();
$searchableFields = $viewModel->getSearchableFields();
if (empty($searchableFields)) {
    echo '<!-- No searchable fields found -->';
    return;
}
?>
<div class="data-grid-search-control-wrap">
    <label class="data-grid-search-label" title="Search" for="grid-search">
        <span><?= $escaper->escapeHtml(__('Search')) ?></span>
    </label>
    <input
        :value="search"
        @change="changeSearch"
        id="grid-search"
        class="admin__control-text data-grid-search-control"
        type="text"
        placeholder="<?= $escaper->escapeHtml(__('Search by keyword')) ?>"
        aria-label="<?= $escaper->escapeHtml(__('Search by keyword')) ?>"
    />
    <button :click="changeSearch" class="action-submit" type="button" aria-label="<?= $escaper->escapeHtml(__('Search' ))?>">
        <span><?= $escaper->escapeHtml(__('Search' ))?></span>
    </button>
</div>
